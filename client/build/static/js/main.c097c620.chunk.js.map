{"version":3,"sources":["scss/features/auth/RegisterLogin.module.scss","scss/features/notebooks/NotebooksList.module.scss","scss/app/Sidebar.module.scss","scss/features/notebooks/AddNewNotebook.module.scss","features/auth/authService.js","features/auth/authSlice.js","features/notebooks/notebookService.js","features/notebooks/notebooksSlice.js","features/notes/notesService.js","features/notes/notesSlice.js","app/Register.js","app/Login.js","app/Sidebar.js","app/PageSidebar.js","features/notes/TimeAgo.js","features/notes/NotesList.js","app/helper-functions.js","features/notes/NoteEditor.js","features/notebooks/AddNewNotebook.js","features/notebooks/RenameNotebookPopup.js","features/notebooks/NotebooksList.js","features/notebooks/NotebookNotesList.js","features/notebooks/NotebookTrash.js","App.js","app/store.js","index.js","scss/features/notes/NoteEditor.module.scss","scss/app/Common.module.scss","scss/features/notes/NotesList.module.scss"],"names":["module","exports","url","register","userData","a","axios","post","response","data","localStorage","setItem","JSON","stringify","login","user","parse","getItem","initialState","isLoading","isSuccess","isError","message","createAsyncThunk","thunkAPI","authService","toString","rejectWithValue","logout","removeItem","authSlice","createSlice","name","reducers","resetAuth","state","extraReducers","builder","addCase","pending","rejected","action","payload","fulfilled","actions","selectUser","auth","getAllNotebooks","token","config","headers","Authorization","get","getNotebookNotes","id","addNewNotebook","newNotebook","renameNotebook","obj","_id","patch","deleteNotebook","delete","addNoteToNotebook","notebookID","deleteNoteInNotebook","_","getState","notebooksService","notebooksSlice","notebooksArray","notebookNotesArray","resetNotebooks","selectNotebook","selectedNotebook","addNoteToNotebookNotes","note","push","editNoteInNotebook","title","content","exsistingNote","find","notebook","filter","notes","notebookUpdated","notebookItem","selectNotebooks","notebooks","selectNotebookNotes","selectTrashNotebook","role","selectCommonNotebook","getAllNotes","addNewNote","newNote","editNote","changeNotebook","moveNoteToTrash","restoreNote","deleteNote","notesService","notesSlice","notesArray","selectedNote","date","inTrash","beforeTrashNotebook","lastCreatedNoteId","resetNotes","selectNote","selectNotes","trashNotebookId","selectSelectedNote","selectMostRecentlyCreatedNoteId","Register","dispatch","useDispatch","navigate","useNavigate","newCommonNotebook","useSelector","newTrashNotebook","useState","email","password","password2","formData","setFormData","useEffect","toast","error","onChange","e","prevState","target","value","className","styles","login__container","login__title","login__description","onSubmit","preventDefault","login__form_field_container","type","placeholder","login__input","login__btns_container","commonCss","btn___main","btn___success","to","btn___common","Login","Sidebar","location","useLocation","commonNotebook","createdNoteNotebook","setCreatedNoteNotebook","setNote","noteID","sidebar","sidebar__item","icon","sidebar__icon","pathname","split","pop","onClick","exec","sidebar__link","PageSidebar","TimeAgo","timestamp","timeAgo","parseISO","timePeriod","formatDistanceToNow","NotesList","renderNotes","map","stripedHtmlContent","replace","length","notes_list__note","markSelected","notes_list__note_title","notes_list__note_text","slice","notes_list__note_date","notes_list","notes_list__head","notes_list__main_title","notes_list__head_icon","notes_list__head_count","notes_list__notes_container","toggleMenu","menu","parentElement","querySelector","firstChild","document","querySelectorAll","forEach","element","classList","remove","contains","toggle","window","addEventListener","closeMenuOnOutsideClick","removeEventListener","NoteEditor","trashNotebook","selectedNoteNotebook","beforeTrash","titleValue","setTitleValue","contentValue","setContentValue","timer","setTimer","buttonsTrash","actions_menu__item","actions_menu__item_inactive","note_editor","note_editor_top","note_editor__top_item","link","note_editor__notebook_icon","note_editor__notebook_name","actions_menu","actions_menu__togle_btn","btn","actions_menu_change_notebook_btn","actions_menu__icon","actions_menu__container","index","notebookId","onChangeNoteNotebook","actions_menu___right","note_editor__note_title","clearTimeout","newTimer","setTimeout","theme","note_editor__text_editor","val","AddNewNotebook","closePopup","getElementById","style","display","add_notebook","add_notebook__btn","add_notebook__icon","add_notebook__popup","add_notebook__popup_container","add_notebook__popup_close","add_notebook__popup_title","add_notebook__name_input","add_notebook__popup_add_btn","inputName","Date","toISOString","RenameNotebookPopup","props","setName","notebookName","main_popup","main_popup__container","main_popup__popup_close","body","main_popup__title","main_popup__input","NotebookList","noteBooks","setNotebookId","setNotebookName","toggleNotes","closest","renderNotebooks","renderNotebookNotes","notebooks_list__notes_item","notebooks_list__notebook_name","notebooks_list__notebook_name_link","notebooks_list__notebook_icon","notebooks_list__list_item_container","notebooks_list__list_item","notebooks_list__carret_icon","notebooks_list__notebook_notes_count","add","notebookNotes","deleteNotebookCallback","onDeleteNotebook","notebooks_list__notes","notebooks_list","notebooks_list__title","notebooks_list__top","notebooks_list__notebooks_count","notebooks_list__list_container","NotebookNotesList","useParams","console","log","NotebookTrash","notebookTrash","library","fas","App","isErrorNote","messageNote","isErrorNotebook","messageNotebook","path","store","configureStore","reducer","notesReducer","notebooksReducer","authReducer","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.c097c620.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"RegisterLogin_login__1DoOv\",\"login__container\":\"RegisterLogin_login__container__3LfLt\",\"login__title\":\"RegisterLogin_login__title__1Fs-a\",\"login__description\":\"RegisterLogin_login__description__3k9dI\",\"login__form_field_container\":\"RegisterLogin_login__form_field_container__3L-H1\",\"login__btns_container\":\"RegisterLogin_login__btns_container__10y8l\",\"login__input\":\"RegisterLogin_login__input__2uogv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notebooks_list\":\"NotebooksList_notebooks_list__3ytm0\",\"notebooks_list__top\":\"NotebooksList_notebooks_list__top__u98Is\",\"notebooks_list__list_container\":\"NotebooksList_notebooks_list__list_container__3b1Xh\",\"notebooks_list__list_item\":\"NotebooksList_notebooks_list__list_item__GzdZ0\",\"notebooks_list__carret_icon\":\"NotebooksList_notebooks_list__carret_icon__1o9d8\",\"notebooks_list__notebook_name\":\"NotebooksList_notebooks_list__notebook_name__LBoI8\",\"notebooks_list__notebook_name_link\":\"NotebooksList_notebooks_list__notebook_name_link__zePy9\",\"notebooks_list__notebook_icon\":\"NotebooksList_notebooks_list__notebook_icon__3_j6F\",\"notebooks_list__notebook_notes_count\":\"NotebooksList_notebooks_list__notebook_notes_count__1NM-L\",\"notebooks_list__notes\":\"NotebooksList_notebooks_list__notes__3yk5j\",\"notebooks_list__notes_item\":\"NotebooksList_notebooks_list__notes_item__14boV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__3QPT7\",\"sidebar__item\":\"Sidebar_sidebar__item__12Ig6\",\"sidebar__link\":\"Sidebar_sidebar__link__2xGYo\",\"sidebar__icon\":\"Sidebar_sidebar__icon__2oUyO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"add_notebook\":\"AddNewNotebook_add_notebook__njPR3\",\"add_notebook__btn\":\"AddNewNotebook_add_notebook__btn__2lBOa\",\"add_notebook__icon\":\"AddNewNotebook_add_notebook__icon__1C3Ny\",\"add_notebook__popup\":\"AddNewNotebook_add_notebook__popup__222IY\",\"active\":\"AddNewNotebook_active__3yN_i\",\"add_notebook__popup_container\":\"AddNewNotebook_add_notebook__popup_container__3bjJu\",\"add_notebook__popup_close\":\"AddNewNotebook_add_notebook__popup_close__hO29t\",\"add_notebook__popup_title\":\"AddNewNotebook_add_notebook__popup_title__KSleB\",\"add_notebook__name_input\":\"AddNewNotebook_add_notebook__name_input__1Fojq\",\"add_notebook__popup_add_btn\":\"AddNewNotebook_add_notebook__popup_add_btn__349j4\"};","import axios from \"axios\"\r\n\r\nconst url = 'http://localhost:5000/api/users'\r\n\r\nexport const register = async (userData) => {\r\n    const response = await axios.post(url, userData)\r\n\r\n    // Set user in localStorage\r\n    if (response.data) {\r\n        localStorage.setItem('user', JSON.stringify(response.data))\r\n    }\r\n\r\n    return response.data\r\n}\r\n\r\nexport const login = async (userData) => {\r\n    const response = await axios.post(`${url}/login`, userData)\r\n\r\n    // Set user in localStorage\r\n    if (response.data) {\r\n        localStorage.setItem('user', JSON.stringify(response.data))\r\n    }\r\n\r\n    return response.data\r\n}\r\n\r\nexport const logout = () => {\r\n    localStorage.removeItem('user')\r\n}","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\"\r\nimport * as authService from './authService'\r\n\r\n// Get user from localStorage\r\nconst user = JSON.parse(localStorage.getItem('user'))\r\n\r\nconst initialState = {\r\n    user: user ? user : null,\r\n    isLoading: false,\r\n    isSuccess: false,\r\n    isError: false,\r\n    message: ''\r\n}\r\n\r\nexport const register = createAsyncThunk(\r\n    'auth/register',\r\n    async (user, thunkAPI) => {\r\n        try {\r\n            return await authService.register(user)\r\n        } catch (error) {\r\n            const message =\r\n                (error.response &&\r\n                 error.response.data &&\r\n                error.response.data.message) ||\r\n                error.message ||\r\n                error.toString()\r\n            return thunkAPI.rejectWithValue(message)\r\n        }\r\n    }\r\n)\r\n\r\nexport const login = createAsyncThunk(\r\n    'auth/login',\r\n    async (user, thunkAPI) => {\r\n        try {\r\n            return await authService.login(user)\r\n        } catch (error) {\r\n            const message =\r\n                (error.response &&\r\n                 error.response.data &&\r\n                error.response.data.message) ||\r\n                error.message ||\r\n                error.toString()\r\n            return thunkAPI.rejectWithValue(message)\r\n        }\r\n    }\r\n)\r\n\r\nexport const logout = createAsyncThunk(\r\n    'auth/logout',\r\n    async () => {\r\n        await authService.logout()\r\n    }\r\n)\r\n\r\nexport const authSlice = createSlice({\r\n    name: 'auth',\r\n    initialState,\r\n    reducers: {\r\n        resetAuth: state => {\r\n            state.isLoading = false\r\n            state.isSuccess = false\r\n            state.isError = false\r\n            state.message = ''\r\n        }\r\n    },\r\n    extraReducers: (builder) => {\r\n        builder\r\n            .addCase(register.pending, state => {\r\n                state.isLoading = true\r\n            })\r\n            .addCase(register.rejected, (state, action) => {\r\n                state.isLoading = false\r\n                state.isError = true\r\n                state.message = action.payload\r\n                state.user = null\r\n            })\r\n            .addCase(register.fulfilled, (state, action) => {\r\n                state.isLoading = false\r\n                state.isSuccess = true\r\n                state.user = action.payload\r\n            })\r\n            .addCase(login.pending, state => {\r\n                state.isLoading = true\r\n            })\r\n            .addCase(login.rejected, (state, action) => {\r\n                state.isLoading = false\r\n                state.isError = true\r\n                state.message = action.payload\r\n                state.user = null\r\n            })\r\n            .addCase(login.fulfilled, (state, action) => {\r\n                state.isLoading = false\r\n                state.isSuccess = true\r\n                state.user = action.payload\r\n            })\r\n            .addCase(logout.fulfilled, state => {\r\n                state.user = null\r\n            })\r\n    }\r\n})\r\n\r\nexport const { resetAuth } = authSlice.actions\r\n\r\nexport const selectUser = (state) => {\r\n    return state.auth.user\r\n}\r\n\r\nexport default authSlice.reducer","import axios from 'axios'\r\n\r\nconst url = 'http://localhost:5000/api/notebooks'\r\n\r\nexport const getAllNotebooks = async (token) => {\r\n    const config = {\r\n        headers: {\r\n            Authorization: `Bearer ${token}`,\r\n        }\r\n    }\r\n\r\n    const response = await axios.get(url, config)\r\n    return response.data\r\n}\r\n\r\nexport const getNotebookNotes = async (id, token) => {\r\n    const config = {\r\n        headers: {\r\n            Authorization: `Bearer ${token}`,\r\n        }\r\n    }\r\n\r\n    const response = await axios.get(`${url}/notebook-notes/${id}`, config)\r\n    return response.data\r\n}\r\n\r\nexport const addNewNotebook = async (newNotebook, token) => {\r\n    const config = {\r\n        headers: {\r\n            Authorization: `Bearer ${token}`,\r\n        }\r\n    }\r\n\r\n    const response = await axios.post(url, newNotebook, config)\r\n    return response.data\r\n}\r\n\r\nexport const renameNotebook = async (obj, token) => {\r\n    const config = {\r\n        headers: {\r\n            Authorization: `Bearer ${token}`,\r\n        }\r\n    }\r\n\r\n    let { _id } = obj\r\n    const response = await axios.patch(`${url}/rename/${_id}`, obj, config)\r\n    return response.data\r\n}\r\n\r\nexport const deleteNotebook = async (id, token) => {\r\n    const config = {\r\n        headers: {\r\n            Authorization: `Bearer ${token}`,\r\n        }\r\n    }\r\n\r\n    const response = await axios.delete(`${url}/delete/${id}`, config)\r\n    return response.data\r\n}\r\n\r\nexport const addNoteToNotebook = async (obj, token) => {\r\n    const config = {\r\n        headers: {\r\n            Authorization: `Bearer ${token}`,\r\n        }\r\n    }\r\n\r\n    let { notebookID } = obj\r\n    const response = await axios.post(`${url}/add-note/${notebookID}`, obj, config)\r\n    return response.data\r\n}\r\n\r\nexport const deleteNoteInNotebook = async (obj, token) => {\r\n    const config = {\r\n        headers: {\r\n            Authorization: `Bearer ${token}`,\r\n        }\r\n    }\r\n\r\n    let { notebookID } = obj\r\n    const response = await axios.patch(`${url}/delete-note/${notebookID}`, obj, config)\r\n    return response.data\r\n}\r\n\r\n\r\n","import { createSlice, createAsyncThunk, current } from \"@reduxjs/toolkit\"\r\nimport * as notebooksService from './notebookService'\r\n\r\nconst initialState = {\r\n    notebooksArray: [],\r\n    notebookNotesArray: [],\r\n    isError: false,\r\n    isSuccess: false,\r\n    isLoading: false,\r\n    message: ''\r\n}\r\n\r\nexport const getAllNotebooks = createAsyncThunk(\r\n    'notes/getAllNotebooks',\r\n    async (_, thunkAPI) => {\r\n      try {\r\n        const token = thunkAPI.getState().auth.user.token\r\n        return await notebooksService.getAllNotebooks(token)\r\n      } catch (error) {\r\n        const message =\r\n          (error.response &&\r\n            error.response.data &&\r\n            error.response.data.message) ||\r\n          error.message ||\r\n          error.toString()\r\n        return thunkAPI.rejectWithValue(message)\r\n      }\r\n    }\r\n)\r\n\r\nexport const getNotebookNotes = createAsyncThunk(\r\n  'notes/getNotebookNotes',\r\n  async (id, thunkAPI) => {\r\n    try {\r\n      const token = thunkAPI.getState().auth.user.token\r\n      return await notebooksService.getNotebookNotes(id, token)\r\n    } catch (error) {\r\n      const message =\r\n        (error.response &&\r\n          error.response.data &&\r\n          error.response.data.message) ||\r\n        error.message ||\r\n        error.toString()\r\n      return thunkAPI.rejectWithValue(message)\r\n    }\r\n  }\r\n)\r\n\r\nexport const addNewNotebook = createAsyncThunk(\r\n    'notes/addNewNotebook',\r\n    async (newNotebook, thunkAPI) => {\r\n      try {\r\n        const token = thunkAPI.getState().auth.user.token\r\n        return await notebooksService.addNewNotebook(newNotebook, token)\r\n      } catch (error) {\r\n        const message =\r\n          (error.response &&\r\n            error.response.data &&\r\n            error.response.data.message) ||\r\n          error.message ||\r\n          error.toString()\r\n        return thunkAPI.rejectWithValue(message)\r\n      }\r\n    }\r\n)\r\n\r\nexport const renameNotebook = createAsyncThunk(\r\n    'notes/renameNotebook',\r\n    async (obj, thunkAPI) => {\r\n      try {\r\n        const token = thunkAPI.getState().auth.user.token\r\n        return await notebooksService.renameNotebook(obj, token)\r\n      } catch (error) {\r\n        const message =\r\n          (error.response &&\r\n            error.response.data &&\r\n            error.response.data.message) ||\r\n          error.message ||\r\n          error.toString()\r\n        return thunkAPI.rejectWithValue(message)\r\n      }\r\n    }\r\n)\r\n\r\nexport const deleteNotebook = createAsyncThunk(\r\n    'notes/deleteNotebook',\r\n    async (id, thunkAPI) => {\r\n      try {\r\n        const token = thunkAPI.getState().auth.user.token\r\n        return await notebooksService.deleteNotebook(id, token)\r\n      } catch (error) {\r\n        const message =\r\n          (error.response &&\r\n            error.response.data &&\r\n            error.response.data.message) ||\r\n          error.message ||\r\n          error.toString()\r\n        return thunkAPI.rejectWithValue(message)\r\n      }\r\n    }\r\n)\r\n\r\nexport const addNoteToNotebook = createAsyncThunk(\r\n    'notes/addNoteToNotebook',\r\n    async (obj, thunkAPI) => {\r\n      try {\r\n        const token = thunkAPI.getState().auth.user.token\r\n        return await notebooksService.addNoteToNotebook(obj, token)\r\n      } catch (error) {\r\n        const message =\r\n          (error.response &&\r\n            error.response.data &&\r\n            error.response.data.message) ||\r\n          error.message ||\r\n          error.toString()\r\n        return thunkAPI.rejectWithValue(message)\r\n      }\r\n    }\r\n)\r\n\r\nexport const deleteNoteInNotebook = createAsyncThunk(\r\n    'notes/deleteNoteInNotebook',\r\n    async (obj, thunkAPI) => {\r\n      try {\r\n        const token = thunkAPI.getState().auth.user.token\r\n        return await notebooksService.deleteNoteInNotebook(obj, token)\r\n      } catch (error) {\r\n        const message =\r\n          (error.response &&\r\n            error.response.data &&\r\n            error.response.data.message) ||\r\n          error.message ||\r\n          error.toString()\r\n        return thunkAPI.rejectWithValue(message)\r\n      }\r\n    }\r\n)\r\n\r\nconst notebooksSlice = createSlice({\r\n    name: 'notebooks',\r\n    initialState,\r\n    reducers: {\r\n        resetNotebooks(state) {\r\n          state.notebooksArray = []\r\n          state.notebookNotesArray = []\r\n          state.isError = false\r\n          state.isSuccess = false\r\n          state.isLoading = false\r\n          state.message = ''\r\n        },\r\n        selectNotebook(state, action) {\r\n            state.selectedNotebook = action.payload\r\n        },\r\n        addNoteToNotebookNotes(state, action) {\r\n            const note = action.payload.note\r\n            note._id = action.payload._id\r\n            state.notebookNotesArray.push(note)\r\n        },\r\n        editNoteInNotebook(state, action) {\r\n          const { _id, title, content } = action.payload\r\n          const exsistingNote = state.notebookNotesArray.find(note => note._id === _id)\r\n          if(exsistingNote) {\r\n            exsistingNote.title = title\r\n            exsistingNote.content = content\r\n          }\r\n        },\r\n    },\r\n    extraReducers: (builder) => {\r\n        builder\r\n            .addCase(getAllNotebooks.pending, (state) => {\r\n                state.isLoading = true\r\n            })\r\n            .addCase(getAllNotebooks.rejected, (state, action) => {\r\n                state.isLoading = false\r\n                state.isError = true\r\n                state.message = action.payload\r\n            })\r\n            .addCase(getAllNotebooks.fulfilled, (state, action) => {\r\n                state.isLoading = false\r\n                state.isSuccess = true\r\n                state.notebooksArray = action.payload\r\n            })\r\n            .addCase(getNotebookNotes.pending, (state) => {\r\n              state.isLoading = true\r\n            })\r\n            .addCase(getNotebookNotes.rejected, (state, action) => {\r\n                state.isLoading = false\r\n                state.isError = true\r\n                state.message = action.payload\r\n            })\r\n            .addCase(getNotebookNotes.fulfilled, (state, action) => {\r\n                state.isLoading = false\r\n                state.isSuccess = true\r\n                state.notebookNotesArray = action.payload\r\n            })\r\n            .addCase(addNewNotebook.pending, (state) => {\r\n                state.isLoading = true\r\n            })\r\n            .addCase(addNewNotebook.rejected, (state, action) => {\r\n                state.isLoading = false\r\n                state.isError = true\r\n                state.message = action.payload\r\n            })\r\n            .addCase(addNewNotebook.fulfilled, (state, action) => {\r\n                state.isLoading = false\r\n                state.isSuccess = true\r\n                state.notebooksArray.push(action.payload)\r\n            })\r\n            .addCase(renameNotebook.pending, (state) => {\r\n                state.isLoading = true\r\n            })\r\n            .addCase(renameNotebook.rejected, (state, action) => {\r\n                state.isLoading = false\r\n                state.isError = true\r\n                state.message = action.payload\r\n            })\r\n            .addCase(renameNotebook.fulfilled, (state, action) => {\r\n                state.isLoading = false\r\n                state.isSuccess = true\r\n                const {_id, name} = action.payload\r\n\r\n                state.notebooksArray.find(notebook => {\r\n                    if(notebook._id === _id) {\r\n                        notebook.name = name;\r\n                        return notebook;\r\n                    }\r\n                    return null\r\n                })\r\n            })\r\n            .addCase(deleteNotebook.pending, (state) => {\r\n                state.isLoading = true\r\n            })\r\n            .addCase(deleteNotebook.rejected, (state, action) => {\r\n                state.isLoading = false\r\n                state.isError = true\r\n                state.message = action.payload\r\n            })\r\n            .addCase(deleteNotebook.fulfilled, (state, action) => {\r\n                state.isLoading = false\r\n                state.isSuccess = true\r\n                state.notebooksArray = state.notebooksArray.filter(notebook => notebook._id !== action.payload)\r\n            })\r\n            .addCase(addNoteToNotebook.pending, (state) => {\r\n                state.isLoading = true\r\n            })\r\n            .addCase(addNoteToNotebook.rejected, (state, action) => {\r\n                state.isLoading = false\r\n                state.isError = true\r\n                state.message = action.payload\r\n            })\r\n            .addCase(addNoteToNotebook.fulfilled, (state, action) => {\r\n                state.isLoading = false\r\n                state.isSuccess = true\r\n              \r\n                state.notebooksArray.find(notebook => {\r\n                    if(notebook._id === action.payload._id) {\r\n                        notebook.notes = action.payload.notes\r\n                    }\r\n                    return null\r\n                })\r\n            })\r\n            .addCase(deleteNoteInNotebook.pending, (state) => {\r\n                state.isLoading = true\r\n            })\r\n            .addCase(deleteNoteInNotebook.rejected, (state, action) => {\r\n                state.isLoading = false\r\n                state.isError = true\r\n                state.message = action.payload\r\n            })\r\n            .addCase(deleteNoteInNotebook.fulfilled, (state, action) => {\r\n                state.isLoading = false\r\n                state.isSuccess = true\r\n                const { notebookUpdated: notebook } = action.payload\r\n                state.notebookNotesArray = notebook.notes\r\n                state.notebooksArray.find(notebookItem => {\r\n                  if(notebookItem._id === notebook._id) {\r\n                    notebookItem.notes = notebook.notes\r\n                  }\r\n                })\r\n            })\r\n    }\r\n})\r\n\r\nexport const {\r\n    resetNotebooks,\r\n    selectNotebook,\r\n    addNoteToNotebookNotes,\r\n    editNoteInNotebook,\r\n} = notebooksSlice.actions;\r\n\r\nexport const selectNotebooks = (state) => {\r\n    return state.notebooks.notebooksArray;\r\n}\r\n\r\nexport const selectNotebookNotes = (state) => {\r\n  return state.notebooks.notebookNotesArray\r\n}\r\n\r\nexport const selectTrashNotebook = (state) => {\r\n  return state.notebooks.notebooksArray.find(notebook => notebook.role === 'trash')\r\n}\r\n\r\nexport const selectCommonNotebook = (state) => {\r\n  return state.notebooks.notebooksArray.find(notebook => notebook.role === 'common')\r\n}\r\n\r\nexport default notebooksSlice.reducer","import axios from 'axios'\r\n\r\nconst url = 'http://localhost:5000/api/notes'\r\n\r\nexport const getAllNotes = async (token) => {\r\n    const config = {\r\n        headers: {\r\n            Authorization: `Bearer ${token}`,\r\n        }\r\n    }\r\n\r\n    const response = await axios.get(url, config)\r\n    return response.data\r\n}\r\n\r\nexport const addNewNote = async (newNote, token) => {\r\n    const config = {\r\n        headers: {\r\n            Authorization: `Bearer ${token}`,\r\n        }\r\n    }\r\n\r\n    const response = await axios.post(url, newNote, config)\r\n    return response.data\r\n}\r\n\r\nexport const editNote = async (obj, token) => {\r\n    const config = {\r\n        headers: {\r\n            Authorization: `Bearer ${token}`,\r\n        }\r\n    }\r\n\r\n    const { _id } = obj\r\n    const response = await axios.patch(`${url}/edit/${_id}`, obj, config)\r\n    return response.data\r\n}\r\n\r\nexport const changeNotebook = async (obj, token) => {\r\n    const config = {\r\n        headers: {\r\n            Authorization: `Bearer ${token}`,\r\n        }\r\n    }\r\n\r\n    const { _id } = obj\r\n    const response = await axios.patch(`${url}/change-notebook/${_id}`, obj, config)\r\n    return response.data\r\n}\r\n\r\nexport const moveNoteToTrash = async (obj, token) => {\r\n    const config = {\r\n        headers: {\r\n            Authorization: `Bearer ${token}`,\r\n        }\r\n    }\r\n\r\n    const { _id } = obj\r\n    const response = await axios.patch(`${url}/trash/${_id}`, obj, config)\r\n    return response.data\r\n}\r\n\r\nexport const restoreNote = async (obj, token) => {\r\n    const config = {\r\n        headers: {\r\n            Authorization: `Bearer ${token}`,\r\n        }\r\n    }\r\n\r\n    const { _id } = obj\r\n    const response = await axios.patch(`${url}/restore/${_id}`, obj, config)\r\n    return response.data\r\n}\r\n\r\nexport const deleteNote = async (id, token) => {\r\n    const config = {\r\n        headers: {\r\n            Authorization: `Bearer ${token}`,\r\n        }\r\n    }\r\n\r\n    const response = await axios.delete(`${url}/delete/${id}`, config)\r\n    return response.data\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\"\r\nimport * as notesService from './notesService'\r\n\r\nconst initialState = {\r\n  notesArray: [],\r\n  selectedNote: {\r\n    _id: '',\r\n    title: '',\r\n    content: '',\r\n    notebook: '',\r\n    date: '',\r\n    inTrash: false,\r\n    beforeTrashNotebook: ''\r\n  },\r\n  lastCreatedNoteId: '',\r\n  isError: false,\r\n  isSuccess: false,\r\n  isLoading: false,\r\n  message: ''\r\n}\r\n\r\nexport const getAllNotes = createAsyncThunk(\r\n  'notes/getAllNotes',\r\n  async (_, thunkAPI) => {\r\n    try {\r\n      const token = thunkAPI.getState().auth.user.token\r\n      return await notesService.getAllNotes(token)\r\n    } catch (error) {\r\n      const message =\r\n        (error.response &&\r\n          error.response.data &&\r\n          error.response.data.message) ||\r\n        error.message ||\r\n        error.toString()\r\n      return thunkAPI.rejectWithValue(message)\r\n    }\r\n  }\r\n)\r\n\r\nexport const addNewNote = createAsyncThunk(\r\n  'notes/addNewNote',\r\n  async (newNote, thunkAPI) => {\r\n    try {\r\n      const token = thunkAPI.getState().auth.user.token\r\n      return await notesService.addNewNote(newNote, token)\r\n    } catch (error) {\r\n      const message =\r\n        (error.response &&\r\n          error.response.data &&\r\n          error.response.data.message) ||\r\n        error.message ||\r\n        error.toString()\r\n      return thunkAPI.rejectWithValue(message)\r\n    }\r\n  }\r\n)\r\n\r\nexport const editNote = createAsyncThunk(\r\n  'notes/editNote',\r\n  async (obj, thunkAPI) => {\r\n    try {\r\n      const token = thunkAPI.getState().auth.user.token\r\n      return await notesService.editNote(obj, token)\r\n    } catch (error) {\r\n      const message =\r\n        (error.response &&\r\n          error.response.data &&\r\n          error.response.data.message) ||\r\n        error.message ||\r\n        error.toString()\r\n      return thunkAPI.rejectWithValue(message)\r\n    }\r\n  }\r\n)\r\n\r\nexport const changeNotebook = createAsyncThunk(\r\n  'notes/changeNotebook',\r\n  async (obj, thunkAPI) => {\r\n    try {\r\n      const token = thunkAPI.getState().auth.user.token\r\n      return await notesService.changeNotebook(obj, token)\r\n    } catch (error) {\r\n      const message =\r\n        (error.response &&\r\n          error.response.data &&\r\n          error.response.data.message) ||\r\n        error.message ||\r\n        error.toString()\r\n      return thunkAPI.rejectWithValue(message)\r\n    }\r\n  }\r\n)\r\n\r\nexport const moveNoteToTrash = createAsyncThunk(\r\n  'notes/moveNoteToTrash',\r\n  async (obj, thunkAPI) => {\r\n    try {\r\n      const token = thunkAPI.getState().auth.user.token\r\n      return await notesService.moveNoteToTrash(obj, token)\r\n    } catch (error) {\r\n      const message =\r\n        (error.response &&\r\n          error.response.data &&\r\n          error.response.data.message) ||\r\n        error.message ||\r\n        error.toString()\r\n      return thunkAPI.rejectWithValue(message)\r\n    }\r\n  }\r\n)\r\n\r\nexport const restoreNote = createAsyncThunk(\r\n  'notes/restoreNote',\r\n  async (obj, thunkAPI) => {\r\n    try {\r\n      const token = thunkAPI.getState().auth.user.token\r\n      return await notesService.restoreNote(obj, token)\r\n    } catch (error) {\r\n      const message =\r\n        (error.response &&\r\n          error.response.data &&\r\n          error.response.data.message) ||\r\n        error.message ||\r\n        error.toString()\r\n      return thunkAPI.rejectWithValue(message)\r\n    }\r\n  }\r\n)\r\n\r\nexport const deleteNote = createAsyncThunk(\r\n  'notes/deleteNote',\r\n  async (id, thunkAPI) => {\r\n    try {\r\n      const token = thunkAPI.getState().auth.user.token\r\n      return await notesService.deleteNote(id, token)\r\n    } catch (error) {\r\n      const message =\r\n        (error.response &&\r\n          error.response.data &&\r\n          error.response.data.message) ||\r\n        error.message ||\r\n        error.toString()\r\n      return thunkAPI.rejectWithValue(message)\r\n    }\r\n  }\r\n)\r\n\r\n\r\n\r\nconst notesSlice = createSlice({\r\n  name: 'notes',\r\n  initialState,\r\n  reducers: {\r\n    resetNotes(state) {\r\n      state.notesArray = []\r\n      state.selectedNote = {\r\n        _id: '',\r\n        title: '',\r\n        content: '',\r\n        notebook: '',\r\n        date: '',\r\n        inTrash: false,\r\n        beforeTrashNotebook: ''\r\n      }\r\n      state.lastCreatedNoteId = ''\r\n      state.isError = false\r\n      state.isSuccess = false\r\n      state.isLoading = false\r\n      state.message = ''\r\n    },\r\n    selectNote(state, action) {\r\n      state.selectedNote = action.payload\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(getAllNotes.pending, (state) => {\r\n        state.isLoading = true\r\n      })\r\n      .addCase(getAllNotes.rejected, (state, action) => {\r\n        state.isLoading = false\r\n        state.isError = true\r\n        state.message = action.payload\r\n      })\r\n      .addCase(getAllNotes.fulfilled, (state, action) => {\r\n        state.isLoading = false\r\n        state.isSuccess = true\r\n        state.notesArray = action.payload\r\n      })\r\n      .addCase(addNewNote.pending, (state) => {\r\n        state.isLoading = true\r\n      })\r\n      .addCase(addNewNote.rejected, (state, action) => {\r\n        state.isLoading = false\r\n        state.isError = true\r\n        state.message = action.payload\r\n      })\r\n      .addCase(addNewNote.fulfilled, (state, action) => {\r\n        state.isLoading = false\r\n        state.isSuccess = true\r\n        state.lastCreatedNoteId = action.payload._id\r\n        state.notesArray.push(action.payload)\r\n      })\r\n      .addCase(editNote.pending, (state) => {\r\n        state.isLoading = true\r\n      })\r\n      .addCase(editNote.rejected, (state, action) => {\r\n        state.isLoading = false\r\n        state.isError = true\r\n        state.message = action.payload\r\n      })\r\n      .addCase(editNote.fulfilled, (state, action) => {\r\n        state.isLoading = false\r\n        state.isSuccess = true\r\n\r\n        const { _id, title, content } = action.payload\r\n        const exsistingNote = state.notesArray.find(note => note._id === _id)\r\n        const selectedNote = state.selectedNote\r\n\r\n        if (exsistingNote && selectedNote) {\r\n          exsistingNote.title = title\r\n          selectedNote.title = title\r\n          exsistingNote.content = content\r\n          selectedNote.content = content\r\n        }\r\n      })\r\n      .addCase(changeNotebook.pending, (state) => {\r\n        state.isLoading = true\r\n      })\r\n      .addCase(changeNotebook.rejected, (state, action) => {\r\n        state.isLoading = false\r\n        state.isError = true\r\n        state.message = action.payload\r\n      })\r\n      .addCase(changeNotebook.fulfilled, (state, action) => {\r\n        state.isLoading = false\r\n        state.isSuccess = true\r\n\r\n        const { _id, notebook } = action.payload;\r\n\r\n        state.notesArray.find(note => {\r\n          if (note._id === _id) {\r\n            note.notebook = notebook;\r\n            state.selectedNote.notebook = notebook;\r\n          }\r\n        })\r\n      })\r\n      .addCase(moveNoteToTrash.pending, (state) => {\r\n        state.isLoading = true\r\n      })\r\n      .addCase(moveNoteToTrash.rejected, (state, action) => {\r\n        state.isLoading = false\r\n        state.isError = true\r\n        state.message = action.payload\r\n      })\r\n      .addCase(moveNoteToTrash.fulfilled, (state, action) => {\r\n        state.isLoading = false\r\n        state.isSuccess = true\r\n\r\n        const { _id, notebook, inTrash, beforeTrashNotebook } = action.payload;\r\n        state.notesArray.find(note => {\r\n          if (note._id === _id) {\r\n            note.notebook = notebook;\r\n            note.inTrash = inTrash;\r\n            note.beforeTrashNotebook = beforeTrashNotebook;\r\n            state.selectedNote.notebook = notebook;\r\n            state.selectedNote.beforeTrashNotebook = beforeTrashNotebook;\r\n            state.selectedNote.title = '';\r\n            state.selectedNote.content = '';\r\n            return note;\r\n          }\r\n        });\r\n      })\r\n      .addCase(restoreNote.pending, (state) => {\r\n        state.isLoading = true\r\n      })\r\n      .addCase(restoreNote.rejected, (state, action) => {\r\n        state.isLoading = false\r\n        state.isError = true\r\n        state.message = action.payload\r\n      })\r\n      .addCase(restoreNote.fulfilled, (state, action) => {\r\n        state.isLoading = false\r\n        state.isSuccess = true\r\n\r\n        const { _id, notebook, inTrash } = action.payload;\r\n        state.notesArray.find(note => {\r\n          if (note._id === _id) {\r\n            note.notebook = notebook;\r\n            note.inTrash = inTrash;\r\n            note.beforeTrashNotebook = '';\r\n            state.selectedNote.notebook = notebook;\r\n            state.selectedNote.beforeTrashNotebook = '';\r\n            state.selectedNote.title = '';\r\n            state.selectedNote.content = '';\r\n            return note;\r\n          }\r\n        })\r\n      })\r\n      .addCase(deleteNote.pending, (state) => {\r\n        state.isLoading = true\r\n      })\r\n      .addCase(deleteNote.rejected, (state, action) => {\r\n        state.isLoading = false\r\n        state.isError = true\r\n        state.message = action.payload\r\n      })\r\n      .addCase(deleteNote.fulfilled, (state, action) => {\r\n        state.isLoading = false\r\n        state.isSuccess = true\r\n\r\n        state.notesArray = state.notesArray.filter(note => note._id !== action.payload)\r\n      })\r\n  }\r\n});\r\n\r\nexport const {\r\n  resetNotes,\r\n  selectNote\r\n} = notesSlice.actions;\r\n\r\nexport const selectNotes = (state) => {\r\n  return state.notes.notesArray.filter(note => note.notebook !== state.notes.trashNotebookId)\r\n}\r\n\r\nexport const selectSelectedNote = (state) => {\r\n  return state.notes.selectedNote\r\n}\r\n\r\nexport const selectMostRecentlyCreatedNoteId = (state) => {\r\n  return state.notes.lastCreatedNoteId\r\n}\r\n\r\nexport default notesSlice.reducer;","import React, { useState, useEffect } from 'react'\r\nimport { useSelector, useDispatch }  from 'react-redux'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\nimport { toast } from 'react-toastify'\r\nimport { register, resetAuth } from '../features/auth/authSlice'\r\nimport { \r\n    selectTrashNotebook,\r\n    selectCommonNotebook\r\n} from '../features/notebooks/notebooksSlice'\r\n\r\nimport styles from '../scss/features/auth/RegisterLogin.module.scss'\r\nimport commonCss from '../scss/app/Common.module.scss'\r\n\r\nfunction Register() {\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n    const newCommonNotebook = useSelector(selectCommonNotebook)\r\n    const newTrashNotebook = useSelector(selectTrashNotebook)\r\n\r\n    const [formData, setFormData] = useState({\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        password2: ''\r\n    })\r\n\r\n    const { name, email, password, password2 } = formData\r\n    const { user, isError, isSuccess, message } = useSelector(state => state.auth)\r\n\r\n    useEffect(() => {\r\n        if (isError) {\r\n            toast.error(message)\r\n        }\r\n\r\n        if (isSuccess || user) {\r\n            navigate('/')\r\n        }\r\n\r\n        dispatch(resetAuth())\r\n    }, [user, isError, isSuccess, message, newCommonNotebook, newTrashNotebook, navigate, dispatch])\r\n\r\n    const onChange = e => {\r\n        setFormData(prevState => ({\r\n            ...prevState,\r\n            [e.target.name]: e.target.value\r\n        }))\r\n    }\r\n\r\n    const onSubmit = e => {\r\n        e.preventDefault()\r\n\r\n        if (password !== password2) {\r\n            toast.error('Passwords do not match')\r\n        } else {\r\n            const userData = {\r\n                name,\r\n                email,\r\n                password\r\n            }\r\n            dispatch(register(userData))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <section className={styles.login}>\r\n            <div className={styles.login__container}>\r\n                <h1 className={styles.login__title}>Register</h1>\r\n                <p className={styles.login__description}>Please create an account</p>\r\n\r\n                <form onSubmit={onSubmit}>\r\n                    <div className={styles.login__form_field_container}>\r\n                        <input \r\n                            type='text'\r\n                            id='name'\r\n                            name='name'\r\n                            value={name}\r\n                            placeholder='Enter your name'\r\n                            onChange={onChange}\r\n                            className={styles.login__input}\r\n                        />\r\n                    </div>\r\n                    <div className={styles.login__form_field_container}>\r\n                        <input \r\n                            type='email'\r\n                            id='email'\r\n                            name='email'\r\n                            value={email}\r\n                            placeholder='Enter your email'\r\n                            onChange={onChange}\r\n                            className={styles.login__input}\r\n                        />\r\n                    </div>\r\n                    <div className={styles.login__form_field_container}>\r\n                        <input \r\n                            type='password'\r\n                            id='password'\r\n                            name='password'\r\n                            value={password}\r\n                            placeholder='Enter your password'\r\n                            onChange={onChange}\r\n                            className={styles.login__input}\r\n                        />\r\n                    </div>\r\n                    <div className={styles.login__form_field_container}>\r\n                        <input \r\n                            type='password'\r\n                            id='password2'\r\n                            name='password2'\r\n                            value={password2}\r\n                            placeholder='Confirm your password'\r\n                            onChange={onChange}\r\n                            className={styles.login__input}\r\n                        />\r\n                    </div>\r\n                    <div className={styles.login__btns_container}>\r\n                        <button type='submit' className={`${commonCss.btn___main} ${commonCss.btn___success}`}>\r\n                            Submit\r\n                        </button>\r\n                        <Link to='/login' className={`${commonCss.btn___main} ${commonCss.btn___common}`}>\r\n                          Login\r\n                        </Link>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Register","import React, { useState, useEffect } from 'react'\r\nimport { useSelector, useDispatch }  from 'react-redux'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\nimport { toast } from 'react-toastify'\r\nimport { login, resetAuth } from '../features/auth/authSlice'\r\n\r\nimport styles from '../scss/features/auth/RegisterLogin.module.scss'\r\nimport commonCss from '../scss/app/Common.module.scss'\r\n\r\nfunction Login() {\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n\r\n    const [formData, setFormData] = useState({\r\n        email: '',\r\n        password: '',\r\n      })\r\n\r\n    const { email, password } = formData\r\n    const { user, isError, isSuccess, message } = useSelector(state => state.auth)\r\n\r\n    useEffect(() => {\r\n        if (isError) {\r\n          toast.error(message)\r\n        }\r\n    \r\n        if (isSuccess || user) {\r\n          navigate('/')\r\n        }\r\n    \r\n        dispatch(resetAuth())\r\n    }, [user, isError, isSuccess, message, navigate, dispatch])\r\n\r\n    const onChange = (e) => {\r\n        setFormData((prevState) => ({\r\n          ...prevState,\r\n          [e.target.name]: e.target.value,\r\n        }))\r\n      }\r\n    \r\n      const onSubmit = (e) => {\r\n        e.preventDefault()\r\n    \r\n        const userData = {\r\n          email,\r\n          password,\r\n        }\r\n    \r\n        dispatch(login(userData))\r\n      }\r\n\r\n    return(\r\n        <section className={styles.login}>\r\n          <div className={styles.login__container}>\r\n              <h1 className={styles.login__title}>Login</h1>\r\n              <p className={styles.login__description}>Login and start adding task</p>\r\n\r\n              <form onSubmit={onSubmit}>\r\n                  <div className={styles.login__form_field_container}>\r\n                      <input \r\n                          type='email'\r\n                          id='email'\r\n                          name='email'\r\n                          value={email}\r\n                          placeholder='Enter your email'\r\n                          onChange={onChange}\r\n                          className={styles.login__input}\r\n                      />\r\n                  </div>\r\n                  <div className={styles.login__form_field_container}>\r\n                      <input \r\n                          type='password'\r\n                          id='password'\r\n                          name='password'\r\n                          value={password}\r\n                          placeholder='Enter your password'\r\n                          onChange={onChange}\r\n                          className={styles.login__input}\r\n                      />\r\n                  </div>\r\n                  <div className={styles.login__btns_container}>\r\n                      <button type='submit' className={`${commonCss.btn___main} ${commonCss.btn___success}`}>\r\n                          Submit\r\n                      </button>\r\n                      \r\n                      <Link to='/register' className={`${commonCss.btn___main} ${commonCss.btn___common}`}>\r\n                          Register\r\n                      </Link>\r\n                  </div>\r\n              </form>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Login","import  React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { Link, useLocation  } from \"react-router-dom\"\r\nimport { addNewNote } from '../features/notes/notesSlice'\r\nimport { \r\n    resetNotebooks,\r\n    selectCommonNotebook, \r\n    addNoteToNotebook, \r\n    addNoteToNotebookNotes \r\n} from '../features/notebooks/notebooksSlice'\r\nimport { selectMostRecentlyCreatedNoteId, resetNotes} from '../features/notes/notesSlice'\r\nimport { selectUser, logout, resetAuth } from '../features/auth/authSlice'\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\n\r\nimport styles from '../scss/app/Sidebar.module.scss'\r\n\r\nexport const Sidebar = () => {\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n    const location = useLocation()\r\n    const user = useSelector(selectUser)\r\n    const commonNotebook = useSelector(selectCommonNotebook)\r\n    const lastCreatedNoteId = useSelector(selectMostRecentlyCreatedNoteId)\r\n    const [createdNoteNotebook, setCreatedNoteNotebook] = useState('')\r\n    const [note, setNote] = useState({})\r\n\r\n    const addNote = () => {\r\n        const note = {\r\n            user: user._id,\r\n            title: 'Untitled',\r\n            content: 'content',\r\n            notebook: /notebook\\/.*\\S.*/.exec(location.pathname) ? location.pathname.split('/').pop() : commonNotebook._id,\r\n            inTrash: false,\r\n            beforeTrashNotebook: ''\r\n        }\r\n        setCreatedNoteNotebook(note.notebook)\r\n        dispatch(addNewNote(note))\r\n        setNote(note)\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(lastCreatedNoteId) {\r\n            dispatch(addNoteToNotebook({noteID: lastCreatedNoteId, notebookID: createdNoteNotebook}))\r\n            dispatch(addNoteToNotebookNotes({note, _id: lastCreatedNoteId}))\r\n        }\r\n    }, [lastCreatedNoteId])\r\n\r\n    useEffect(() => {\r\n        if(!user) {\r\n            navigate('/login')\r\n        }\r\n    }, [user])\r\n\r\n\r\n\r\n    const onLogout = () => {\r\n        dispatch(logout())\r\n        dispatch(resetAuth())\r\n        dispatch(resetNotes())\r\n        dispatch(resetNotebooks())\r\n    }\r\n\r\n    \r\n    return(\r\n        <div className={styles.sidebar}>\r\n            <div className={styles.sidebar__item}>\r\n                <FontAwesomeIcon icon=\"user\" className={styles.sidebar__icon} /> \r\n                {user ? user.name : \"Loading...\"}\r\n            </div>\r\n            <div className={`${styles.sidebar__item} ${location.pathname.split('/').pop() === 'trash-notebook' ? 'inactive' : ''}`} onClick={addNote}>\r\n                <FontAwesomeIcon icon=\"plus\" className={styles.sidebar__icon} /> \r\n                Add New\r\n            </div>\r\n            <div className={styles.sidebar__item}>\r\n                <Link to=\"/notes\" className={styles.sidebar__link}>\r\n                    <FontAwesomeIcon icon=\"sticky-note\" className={styles.sidebar__icon} /> \r\n                    Notes\r\n                </Link>\r\n            </div>\r\n            {/* <div className={styles.sidebar__item}>\r\n                <FontAwesomeIcon icon=\"tasks\" className={styles.sidebar__icon} /> \r\n                Tasks\r\n            </div> */}\r\n            <div className={styles.sidebar__item}>\r\n                <Link to=\"/notebooks\" className={styles.sidebar__link}>\r\n                    <FontAwesomeIcon icon=\"book\" className={styles.sidebar__icon} /> \r\n                    Notebooks\r\n                </Link>\r\n            </div>\r\n            {/* <div className={styles.sidebar__item}>\r\n                <FontAwesomeIcon icon=\"tag\" className={styles.sidebar__icon} /> \r\n                Tags\r\n            </div> */}\r\n            <div className={styles.sidebar__item}>\r\n                <Link to=\"/notebook/trash-notebook\" className={styles.sidebar__link}>\r\n                    <FontAwesomeIcon icon=\"trash\" className={styles.sidebar__icon} /> \r\n                    Trash\r\n                </Link>\r\n            </div>\r\n            <div className={styles.sidebar__item} onClick={onLogout}>\r\n                <FontAwesomeIcon icon=\"sign-out-alt\" className={styles.sidebar__icon} />\r\n                Logout\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport { Outlet } from 'react-router-dom';\r\n\r\nimport { Sidebar } from './Sidebar';\r\n\r\nexport const PageSidebar = () => {\r\n    return(\r\n        <div className=\"app-container\">\r\n            <Sidebar />\r\n            <Outlet />\r\n        </div>\r\n  \r\n    )\r\n}","import React from 'react'\r\nimport { parseISO, formatDistanceToNow } from 'date-fns'\r\n\r\nexport const TimeAgo = ({ timestamp }) => {\r\n  let timeAgo = ''\r\n  if (timestamp) {\r\n    const date = parseISO(timestamp)\r\n    const timePeriod = formatDistanceToNow(date)\r\n    timeAgo = `${timePeriod} ago`\r\n  }\r\n\r\n  return (\r\n    <span><i>{timeAgo}</i></span>\r\n  )\r\n}","import  React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { selectNotes, selectNote } from './notesSlice';\r\nimport { TimeAgo } from './TimeAgo';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nimport styles from '../../scss/features/notes/NotesList.module.scss';\r\n\r\nexport const NotesList = () => {\r\n    const dispatch = useDispatch()\r\n    const notes = useSelector(selectNotes)\r\n\r\n    const markSelected = (note) => {\r\n        dispatch(selectNote(note))\r\n    }\r\n    \r\n    const renderNotes = notes.filter(note => note.inTrash === false).map(note => {\r\n        const stripedHtmlContent = note.content.replace(/<[^>]+>/g, '');\r\n\r\n        if(notes.length === 0) {\r\n            return <div>Loading</div>\r\n        } else {\r\n            return(\r\n                <div key={note._id} className={styles.notes_list__note} onClick={() => markSelected(note)}>\r\n                        <h3 className={styles.notes_list__note_title}>{note.title}</h3>\r\n                        <p className={styles.notes_list__note_text}>{stripedHtmlContent.slice(0, 40)}</p>\r\n                        <p className={styles.notes_list__note_date}><TimeAgo timestamp={note.date} /></p>\r\n                </div>\r\n            )\r\n        }\r\n    }) \r\n\r\n    return(\r\n        <div className={styles.notes_list}>\r\n            <div className={styles.notes_list__head}>\r\n                <h2 className={styles.notes_list__main_title}><FontAwesomeIcon icon=\"sticky-note\" className={styles.notes_list__head_icon} />Notes</h2>\r\n                <p className={styles.notes_list__head_count}>{notes.filter(note => note.inTrash === false).length} {notes.length === 1 ? 'note' : 'notes'}</p>        \r\n            </div>\r\n\r\n            <div className={styles.notes_list__notes_container}>\r\n                {renderNotes}\r\n            </div>\r\n        </div>\r\n    )\r\n}","export const toggleMenu = (e) => {\r\n    const menu = e.target.parentElement;\r\n    if(!menu.querySelector('.actions_menu_elements').firstChild) {\r\n        return\r\n    }\r\n\r\n    let elements = document.querySelectorAll('.actions_menu');\r\n    elements.forEach(element => {\r\n        element.classList.remove('active');\r\n    })\r\n\r\n    if(menu.classList.contains('actions_menu')) {\r\n        menu.classList.toggle('active');\r\n    } \r\n\r\n    const closeMenuOnOutsideClick = (e) => {\r\n        if(!e.target.parentElement.classList.contains('actions_menu')) {\r\n            menu.classList.remove('active');\r\n            window.removeEventListener('click', closeMenuOnOutsideClick);\r\n        } \r\n    }\r\n\r\n    window.addEventListener('click', closeMenuOnOutsideClick)\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { \r\n        editNote, \r\n        moveNoteToTrash,\r\n        deleteNote,\r\n        changeNotebook,\r\n        restoreNote,\r\n        selectSelectedNote\r\n    } from './notesSlice';    \r\nimport { \r\n        selectTrashNotebook,\r\n        selectCommonNotebook,\r\n        addNoteToNotebook,\r\n        deleteNoteInNotebook,\r\n        selectNotebooks,\r\n        editNoteInNotebook\r\n    } from '../notebooks/notebooksSlice';\r\nimport { Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport ReactQuill from 'react-quill';\r\nimport 'react-quill/dist/quill.snow.css';\r\n\r\nimport '../../scss/3d-party/ReactQuill.scss';\r\n\r\nimport { toggleMenu } from '../../app/helper-functions';\r\nimport styles from '../../scss/features/notes/NoteEditor.module.scss';\r\nimport commonCss from '../../scss/app/Common.module.scss';\r\n\r\n\r\nexport const NoteEditor = () => {\r\n    const dispatch = useDispatch()\r\n    const trashNotebook = useSelector(selectTrashNotebook)\r\n    const commonNotebook = useSelector(selectCommonNotebook)\r\n    const selectedNote = useSelector(selectSelectedNote)\r\n    const notebooks = useSelector(selectNotebooks)\r\n    const selectedNoteNotebook = notebooks.find(notebook => notebook._id === selectedNote.notebook)\r\n    const beforeTrash = notebooks.find(notebook => notebook._id === selectedNote.beforeTrashNotebook)\r\n    const [titleValue, setTitleValue] = useState('')\r\n    const [contentValue, setContentValue] = useState()\r\n    const [timer, setTimer] = useState(null)\r\n\r\n    useEffect(() => {\r\n        if(selectedNote.title) {\r\n            setTitleValue(selectedNote.title)\r\n            setContentValue(selectedNote.content)\r\n        }\r\n    }, [selectedNote])\r\n\r\n    const onEditNoteTitle = (e) => {\r\n        setTitleValue(e.target.value)\r\n        clearTimeout(timer)\r\n\r\n        const newTimer = setTimeout(() => {\r\n            dispatch(editNote({_id: selectedNote._id, title: e.target.value, content: selectedNote.content }))\r\n            dispatch(editNoteInNotebook({_id: selectedNote._id, title: e.target.value, content: selectedNote.content}))\r\n          }, 500)\r\n      \r\n          setTimer(newTimer)\r\n    }\r\n\r\n    const onEditNoteContent = (val) => {\r\n        setContentValue(val)\r\n        clearTimeout(timer)\r\n\r\n        const newTimer = setTimeout(() => {\r\n            dispatch(editNote({_id: selectedNote._id, title: selectedNote.title, content: val}))\r\n            dispatch(editNoteInNotebook({_id: selectedNote._id, title: selectedNote.title, content: val}))\r\n          }, 500)\r\n      \r\n          setTimer(newTimer)\r\n    }\r\n\r\n    const onChangeNoteNotebook = (selectedNote, notebookId) => {\r\n        dispatch(changeNotebook({_id: selectedNote._id, notebook: notebookId}))\r\n        dispatch(deleteNoteInNotebook({noteID: selectedNote._id, notebookID: selectedNote.notebook}))\r\n        dispatch(addNoteToNotebook({noteID: selectedNote._id, notebookID: notebookId}))\r\n    }\r\n\r\n    const onNoteMoveToTrash = () => {\r\n        if(selectedNote._id) {\r\n            dispatch(moveNoteToTrash({\r\n                _id: selectedNote._id, \r\n                notebook: trashNotebook._id, \r\n                inTrash: true, \r\n                beforeTrashNotebook: selectedNote.notebook\r\n            }))\r\n            dispatch(deleteNoteInNotebook({noteID: selectedNote._id, notebookID: selectedNote.notebook}))\r\n            dispatch(addNoteToNotebook({noteID: selectedNote._id, notebookID: trashNotebook._id}))\r\n        }\r\n    }\r\n\r\n    const onRestoreNote = () => {\r\n        dispatch(restoreNote({\r\n            _id: selectedNote._id, \r\n            notebook: beforeTrash ? selectedNote.beforeTrashNotebook : commonNotebook._id, \r\n            inTrash: false, \r\n            beforeTrashNotebook: ''\r\n        }))\r\n        dispatch(deleteNoteInNotebook({noteID: selectedNote._id, notebookID: trashNotebook._id}))\r\n        dispatch(addNoteToNotebook({noteID: selectedNote._id, notebookID: beforeTrash ? selectedNote.beforeTrashNotebook : commonNotebook._id}))\r\n    }\r\n\r\n    const onDeleteNote = () => {\r\n        dispatch(deleteNote(selectedNote._id));\r\n        dispatch(deleteNoteInNotebook({noteID: selectedNote._id, notebookID: trashNotebook._id}));\r\n    }\r\n\r\n\r\n\r\n    let buttonsTrash = '';\r\n    if(selectedNote.inTrash) {\r\n        buttonsTrash = \r\n            <div>\r\n                <p className={`${commonCss.actions_menu__item} ${selectedNote._id ? '' : commonCss.actions_menu__item_inactive}`} onClick={onDeleteNote}>Delete</p>\r\n                <p className={`${commonCss.actions_menu__item} ${selectedNote._id ? '' : commonCss.actions_menu__item_inactive}`} onClick={onRestoreNote}>Restore</p>\r\n            </div> \r\n    } else {\r\n        buttonsTrash = <p className={`${commonCss.actions_menu__item} ${selectedNote._id ? '' : commonCss.actions_menu__item_inactive}`} onClick={onNoteMoveToTrash}>Move to Trash</p>\r\n    }\r\n\r\n    return(\r\n        <div className={styles.note_editor}>\r\n            <div className={styles.note_editor_top}>\r\n                <Link \r\n                    to={selectedNoteNotebook ? `/notebook/${selectedNoteNotebook._id}` : ''} \r\n                    className={`${styles.note_editor__top_item} ${commonCss.link}`}>\r\n                    <FontAwesomeIcon icon=\"book\" className={styles.note_editor__notebook_icon} />\r\n                    <p className={styles.note_editor__notebook_name}>{selectedNoteNotebook ? selectedNoteNotebook.name : ''}</p>\r\n                </Link>\r\n\r\n                <div className={`${commonCss.actions_menu} actions_menu ${selectedNote._id ? 'change-notebook-active' : ''}`}>\r\n                    <button \r\n                        className={`\r\n                        ${commonCss.actions_menu__togle_btn} \r\n                        ${commonCss.btn} \r\n                        ${commonCss.actions_menu_change_notebook_btn} \r\n                        ${selectedNote.inTrash ? 'hide' : ''}\r\n                        `} \r\n                        onClick={toggleMenu}>\r\n                        <FontAwesomeIcon icon=\"exchange-alt\" className={commonCss.actions_menu__icon} />\r\n                    </button>  \r\n                    <div className={`${commonCss.actions_menu__container} actions_menu_elements`}>\r\n                        {notebooks.filter((notebook) => notebook._id !== trashNotebook._id && notebook._id !== selectedNote.notebook )\r\n                        .map((notebook, index) => {\r\n                            return(<p key={index} className={commonCss.actions_menu__item} onClick={() => onChangeNoteNotebook(selectedNote, notebook._id)}>{notebook.name}</p>)\r\n                        })}\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={`${commonCss.actions_menu} ${commonCss.actions_menu___right} actions_menu`}>\r\n                    <button className={`${commonCss.actions_menu__togle_btn} ${commonCss.btn}`} onClick={toggleMenu}>\r\n                        <FontAwesomeIcon icon=\"ellipsis-h\" className={commonCss.actions_menu__icon} />\r\n                    </button>  \r\n                    <div className={`${commonCss.actions_menu__container} actions_menu_elements`}>\r\n                        <p className={`${commonCss.actions_menu__item} ${selectedNote._id ? '' : commonCss.actions_menu__item_inactive}`}>Move</p> \r\n                        {buttonsTrash}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <input type=\"text\" \r\n                name=\"title\" \r\n                id=\"note-title\" \r\n                className={styles.note_editor__note_title}\r\n                value={titleValue}\r\n                onChange={onEditNoteTitle}\r\n                />\r\n            <ReactQuill\r\n                theme=\"snow\"\r\n                className={styles.note_editor__text_editor}\r\n                value={contentValue || ''}\r\n                onChange={onEditNoteContent}\r\n            />\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { addNewNotebook } from './notebooksSlice';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport uuid from 'react-uuid';\r\n\r\nimport styles from '../../scss/features/notebooks/AddNewNotebook.module.scss';\r\nimport commonCss from '../../scss/app/Common.module.scss';\r\n\r\nexport const AddNewNotebook = () => {\r\n    const dispatch = useDispatch();\r\n\r\n    const onAddNewNotebook = () => {\r\n        const inputName = document.getElementById('notebook-input');\r\n\r\n        if (inputName.value) {\r\n            dispatch(addNewNotebook({\r\n                name: inputName.value,\r\n                notes: [],\r\n                date: new Date().toISOString()\r\n            }));\r\n            inputName.value = '';\r\n            closePopup();\r\n        }\r\n    }\r\n    \r\n    const openPopup = () => {\r\n        const popup = document.getElementById('add-notebook-popup');\r\n        popup.style.display = 'flex';\r\n    }\r\n\r\n    const closePopup = () => {\r\n        const popup = document.getElementById('add-notebook-popup');\r\n        popup.style.display = 'none';\r\n    }\r\n\r\n    return(\r\n        <div className={styles.add_notebook}>\r\n            <button className={`${styles.add_notebook__btn} ${commonCss.btn}`} onClick={openPopup}>\r\n                    <FontAwesomeIcon icon=\"book-medical\" className={styles.add_notebook__icon} />\r\n                    Add Notebook\r\n            </button>\r\n\r\n            <div className={styles.add_notebook__popup} id='add-notebook-popup'>\r\n                <div className={styles.add_notebook__popup_container}>\r\n                    <FontAwesomeIcon icon=\"times\" className={styles.add_notebook__popup_close} onClick={closePopup} />\r\n                    <h3 className={styles.add_notebook__popup_title}>Create new notebook</h3>\r\n                    <input type='text' className={styles.add_notebook__name_input} id='notebook-input' />\r\n                    <button className={`${styles.add_notebook__popup_add_btn} ${commonCss.btn___main} ${commonCss.btn___success}`} onClick={onAddNewNotebook}>Add Notebook</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n    )\r\n}","import React, {useState, useEffect} from \"react\";\r\nimport { useDispatch } from 'react-redux';\r\nimport { renameNotebook } from './notebooksSlice';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nimport commonCss from '../../scss/app/Common.module.scss';\r\n\r\nexport const RenameNotebookPopup = (props) => {\r\n    const dispatch = useDispatch()\r\n    const [name, setName] = useState('')\r\n\r\n    useEffect(() => {\r\n        setName(props.notebookName)\r\n    }, [props.notebookName])\r\n\r\n    const closePopup = () => {\r\n        document.body.classList.remove('active-popup')\r\n    }\r\n\r\n    const onRenameNotebook = () => {\r\n        let value = document.querySelector('.rename-notebook-popup').value\r\n\r\n        dispatch(renameNotebook({_id: props.notebookId, name: value}))\r\n        document.body.classList.remove('active-popup')\r\n    }\r\n\r\n    return(\r\n        <div className={`${commonCss.main_popup} notebook-rename-popup`}>\r\n            <div className={commonCss.main_popup__container}>\r\n                <FontAwesomeIcon icon=\"times\" className={commonCss.main_popup__popup_close} onClick={closePopup} />\r\n                <h3 className={commonCss.main_popup__title}>Rename Notebook</h3>\r\n                <input \r\n                    onChange={(e) => setName(e.target.value)}\r\n                    type='text'\r\n                    value={name}\r\n                    className={`${commonCss.main_popup__input} rename-notebook-popup`} />\r\n                <button onClick={onRenameNotebook} className={`${commonCss.btn___main} ${commonCss.btn___success}`}>Rename</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { \r\n        selectNotebooks, \r\n        selectTrashNotebook,\r\n        selectCommonNotebook,\r\n        addNoteToNotebook,\r\n        deleteNoteInNotebook,\r\n        deleteNotebook \r\n    } from './notebooksSlice';\r\nimport { selectNote, moveNoteToTrash } from '../notes/notesSlice';\r\nimport { toggleMenu } from '../../app/helper-functions';\r\n\r\nimport { AddNewNotebook } from './AddNewNotebook';\r\nimport { RenameNotebookPopup } from './RenameNotebookPopup';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nimport styles from '../../scss/features/notebooks/NotebooksList.module.scss';\r\nimport commonCss from '../../scss/app/Common.module.scss';\r\n\r\nexport const NotebookList = () => {\r\n    const dispatch = useDispatch();\r\n    const noteBooks = useSelector(selectNotebooks);\r\n    const trashNotebook = useSelector(selectTrashNotebook)\r\n    const commonNotebook = useSelector(selectCommonNotebook)\r\n\r\n    const [notebookId, setNotebookId] = useState('')\r\n    const [notebookName, setNotebookName] = useState('')\r\n\r\n    const toggleNotes = (e) => {\r\n        const notebookItem = e.target.closest('.notebook-item-container');\r\n        notebookItem.classList.toggle('active');\r\n    }\r\n\r\n    const markSelected = (note) => {\r\n        dispatch(selectNote(note));\r\n    }\r\n\r\n    const openPopup = (id, name) => {\r\n        document.body.classList.add('active-popup')\r\n        setNotebookId(id)\r\n        setNotebookName(name)\r\n    }\r\n\r\n    const onDeleteNotebook = (id) => {\r\n        const notebook = noteBooks.find(notebook => notebook._id === id)\r\n        const notebookNotes = notebook.notes\r\n        const deleteNotebookCallback = () => dispatch(deleteNotebook(id))\r\n\r\n        if(notebookNotes.length > 0) {\r\n            notebookNotes.forEach((note, index) => {\r\n                dispatch(moveNoteToTrash({\r\n                    _id: note, \r\n                    notebook: trashNotebook._id, \r\n                    inTrash: true, \r\n                    beforeTrashNotebook: commonNotebook._id\r\n                }))\r\n                dispatch(deleteNoteInNotebook({noteID: note, notebookID: notebook._id}))\r\n                dispatch(addNoteToNotebook({noteID: note, notebookID: trashNotebook._id}))\r\n                if(index === notebookNotes.length - 1) {\r\n                    deleteNotebookCallback(id)\r\n                }\r\n            })\r\n        } else {\r\n            deleteNotebookCallback(id)\r\n        }\r\n    }\r\n\r\n\r\n    const renderNotebooks = noteBooks.filter( notebook => {\r\n        if(notebook._id === trashNotebook._id) {\r\n            return false;\r\n        } \r\n        return true;\r\n    }).map(notebook => {\r\n        const notes = notebook.notes\r\n\r\n        const renderNotebookNotes = notes.map(note => {\r\n            return (\r\n                <div key={note} className={styles.notebooks_list__notes_item}>\r\n                            <p className={styles.notebooks_list__notebook_name}>\r\n                                <Link to={`/note/${note}`} className={styles.notebooks_list__notebook_name_link} onClick={() => markSelected(note)}>\r\n                                    <FontAwesomeIcon icon=\"sticky-note\" className={styles.notebooks_list__notebook_icon} />\r\n                                    {note.title}\r\n                                </Link>\r\n                            </p>\r\n                            <div className={`${commonCss.actions_menu} ${commonCss.actions_menu___right} actions_menu`}>\r\n                                <button className={`${commonCss.actions_menu__togle_btn} ${commonCss.btn}`} onClick={toggleMenu}>\r\n                                    <FontAwesomeIcon icon=\"ellipsis-h\" className={commonCss.actions_menu__icon} />\r\n                                </button>  \r\n                                <div className={`${commonCss.actions_menu__container} actions_menu_elements`}>\r\n                                    <p className={commonCss.actions_menu__item}>Rename</p>\r\n                                    <p className={commonCss.actions_menu__item}>Delete</p>\r\n                                </div>\r\n                            </div>\r\n                </div>\r\n            )\r\n        })\r\n\r\n        return(\r\n            <div key={notebook._id} className={`${styles.notebooks_list__list_item_container} notebook-item-container`}>\r\n                    <div className={styles.notebooks_list__list_item}>\r\n                        <FontAwesomeIcon icon=\"caret-right\" className={styles.notebooks_list__carret_icon} onClick={toggleNotes} />\r\n                        <p className={styles.notebooks_list__notebook_name}>\r\n                            <Link to={`/notebook/${notebook._id}`} className={styles.notebooks_list__notebook_name_link}>\r\n                                <FontAwesomeIcon icon=\"book\" className={styles.notebooks_list__notebook_icon} />\r\n                                {notebook.name}\r\n                            </Link> \r\n                        </p>\r\n                        <span className={styles.notebooks_list__notebook_notes_count}>({notes.length})</span>\r\n                        <div className={`${commonCss.actions_menu} ${commonCss.actions_menu___right} actions_menu actions_menu___right`}>\r\n                            <button className={`${commonCss.actions_menu__togle_btn} ${commonCss.btn}`} onClick={toggleMenu}>\r\n                                <FontAwesomeIcon icon=\"ellipsis-h\" className={commonCss.actions_menu__icon} />\r\n                            </button>  \r\n                            <div className={`${commonCss.actions_menu__container} actions_menu_elements`}>\r\n                                {notebook.id !== 'common-notebook' ? \r\n                                <p className={commonCss.actions_menu__item} onClick={() => openPopup(notebook._id, notebook.name)}>Rename</p> \r\n                                : ''}\r\n                                <p className={commonCss.actions_menu__item}>Add New Note</p>\r\n                                <p className={`\r\n                                ${commonCss.actions_menu__item} \r\n                                ${notebook._id === commonNotebook._id \r\n                                ? commonCss.actions_menu__item_inactive : ''}\r\n                                `} onClick={() => onDeleteNotebook(notebook._id)}>Delete</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className={styles.notebooks_list__notes}>{renderNotebookNotes}</div>\r\n                </div>\r\n        )\r\n    })\r\n\r\n    return(\r\n        <div className={styles.notebooks_list}>\r\n            <h1 className={styles.notebooks_list__title}>Notebooks</h1>\r\n            <div className={styles.notebooks_list__top}>\r\n                <p className={styles.notebooks_list__notebooks_count}>{noteBooks.length - 1} {noteBooks.length === 1 ? 'notebook' : 'notebooks'}</p>\r\n                <AddNewNotebook />\r\n            </div>\r\n\r\n            <div className={styles.notebooks_list__list_container}>{renderNotebooks}</div>\r\n            <RenameNotebookPopup notebookId={notebookId} notebookName={notebookName} />\r\n        </div>\r\n    )\r\n}","import  React, { useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useParams } from 'react-router-dom'\r\nimport { selectNote } from '../notes/notesSlice'\r\nimport { selectNotebooks, getNotebookNotes, selectNotebookNotes } from '../notebooks/notebooksSlice'\r\nimport { TimeAgo } from '../notes/TimeAgo'\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nimport styles from '../../scss/features/notes/NotesList.module.scss'\r\n\r\nexport const NotebookNotesList = () => {\r\n    const dispatch = useDispatch()\r\n    let params = useParams()\r\n    let { notebookId } = params\r\n    const notebooks = useSelector(selectNotebooks)\r\n    const notebook = notebooks ? notebooks.find(notebook => notebook._id === notebookId) : {}\r\n    const notebookNotes = useSelector(selectNotebookNotes)\r\n    const { isError, message } = useSelector(state => state.notebooks)\r\n\r\n    useEffect(() => {\r\n        if(isError) {\r\n            console.log(message)\r\n        }\r\n        if(notebookId) {\r\n            dispatch(getNotebookNotes(notebookId))\r\n        }\r\n    }, [dispatch, notebookId, isError, message])\r\n\r\n    const markSelected = (note) => {\r\n        dispatch(selectNote(note))\r\n    }\r\n\r\n    \r\n    const renderNotes = notebookNotes.map(note => {\r\n        const stripedHtmlContent = note.content.replace(/<[^>]+>/g, '')\r\n\r\n        if(notebookNotes.length === 0) {\r\n            return <div>Loading</div>\r\n        } else {\r\n            return(\r\n                <div key={note._id} className={styles.notes_list__note} onClick={() => markSelected(note)}>\r\n                        <h3 className={styles.notes_list__note_title}>{note.title}</h3>\r\n                        <p className={styles.notes_list__note_text}>{stripedHtmlContent.slice(0, 40)}</p>\r\n                        <p className={styles.notes_list__note_date}><TimeAgo timestamp={note.date} /></p>\r\n                </div>\r\n            )\r\n        }\r\n    }) \r\n\r\n    return(\r\n        <div className={styles.notes_list}>\r\n            <div className={styles.notes_list__head}>\r\n                <h2 className={styles.notes_list__main_title}><FontAwesomeIcon icon=\"sticky-note\" className={styles.notes_list__head_icon} />\r\n                    {notebook ? notebook.name : 'Loading'}\r\n                </h2>\r\n                <p className={styles.notes_list__head_count}>{notebookNotes.length} {notebookNotes.length === 1 ? 'note' : 'notes'}</p>        \r\n            </div>\r\n\r\n            <div className={styles.notes_list__notes_container}>\r\n                {renderNotes}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { \r\n    selectNotebookNotes, \r\n    selectTrashNotebook,\r\n    getNotebookNotes \r\n} from './notebooksSlice';\r\nimport { selectNote } from '../notes/notesSlice';\r\n\r\nimport { TimeAgo } from '../notes/TimeAgo';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nimport styles from '../../scss/features/notes/NotesList.module.scss';\r\n\r\n\r\n\r\nexport const NotebookTrash = () => {\r\n    const dispatch = useDispatch()\r\n    const notebookTrash = useSelector(selectTrashNotebook)\r\n    const notebookNotes = useSelector(selectNotebookNotes)\r\n    const { isError, message } = useSelector(state => state.notebooks)\r\n\r\n    useEffect(() => {\r\n        if(isError) {\r\n            console.log(message)\r\n        } \r\n        if(notebookTrash) {\r\n            dispatch(getNotebookNotes(notebookTrash._id))\r\n        }\r\n    }, [dispatch, notebookTrash, isError, message])\r\n\r\n    const markSelected = (note) => {\r\n        dispatch(selectNote(note))\r\n    }\r\n\r\n    const renderNotes = notebookNotes.map(note => {\r\n        const stripedHtmlContent = note.content ? note.content.replace(/<[^>]+>/g, '') : ''\r\n\r\n        if(notebookNotes.length === 0) {\r\n            return <div>Loading</div>\r\n        } else {\r\n            return(\r\n                <div key={note._id} className={styles.notes_list__note} onClick={() => markSelected(note)}>\r\n                        <h3 className={styles.notes_list__note_title}>{note.title}</h3>\r\n                        <p className={styles.notes_list__note_text}>{stripedHtmlContent}</p>\r\n                        <p className={styles.notes_list__note_date}><TimeAgo timestamp={note.date} /></p>\r\n                </div>\r\n            )\r\n        }\r\n    }) \r\n\r\n    return(\r\n        <div className={styles.notes_list}>\r\n            <div className={styles.notes_list__head}>\r\n                <h2 className={styles.notes_list__main_title}>\r\n                    <FontAwesomeIcon icon=\"trash\" className={styles.notes_list__head_icon} />{notebookTrash ? notebookTrash.name : 'Trash'}\r\n                </h2>\r\n                <p className={styles.notes_list__head_count}>{notebookNotes.length} {notebookNotes.length === 1 ? 'note' : 'notes'}</p>        \r\n            </div>\r\n\r\n            <div className={styles.notes_list__notes_container}>\r\n                {renderNotes}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import './App.css'\r\nimport React, {useEffect} from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { fas } from '@fortawesome/free-solid-svg-icons'\r\nimport { Routes, Route } from \"react-router-dom\"\r\n\r\nimport { selectUser } from './features/auth/authSlice'\r\nimport { \r\n  getAllNotebooks, \r\n  selectTrashNotebook, \r\n  selectCommonNotebook,\r\n} from './features/notebooks/notebooksSlice'\r\nimport { getAllNotes } from './features/notes/notesSlice'\r\n\r\nimport Register from './app/Register'\r\nimport Login from './app/Login'\r\nimport { PageSidebar } from './app/PageSidebar'\r\nimport { NotesList } from './features/notes/NotesList'\r\nimport { NoteEditor } from './features/notes/NoteEditor'\r\nimport { NotebookList } from './features/notebooks/NotebooksList'\r\nimport { NotebookNotesList } from './features/notebooks/NotebookNotesList'\r\nimport { NotebookTrash } from './features/notebooks/NotebookTrash'\r\n\r\nlibrary.add(fas);\r\n\r\nfunction App() {\r\n  const dispatch = useDispatch()\r\n  const navigate = useNavigate()\r\n  const { isError: isErrorNote, message: messageNote } = useSelector(state => state.notes)\r\n  const { isError: isErrorNotebook, message: messageNotebook } = useSelector(state => state.notebooks)\r\n  const user = useSelector(selectUser)\r\n  // const trashNotebook = useSelector(selectTrashNotebook)\r\n  // const commonNotebook = useSelector(selectCommonNotebook)\r\n\r\n\r\n\r\n  useEffect(() => {\r\n      if(!user) {\r\n        // navigate('/login')\r\n      }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n      if(isErrorNotebook) console.log(messageNotebook)\r\n      if(user) {\r\n        dispatch(getAllNotebooks())\r\n        // if(commonNotebook && trashNotebook) {\r\n        //   dispatch(addCommonNotebook(commonNotebook._id))\r\n        //   dispatch(addTrashNotebook(trashNotebook._id))\r\n        // }\r\n      }\r\n      \r\n  }, [user, isErrorNotebook, messageNotebook, dispatch])\r\n\r\n  useEffect(() => {\r\n      if(isErrorNote) console.log(messageNote)\r\n      dispatch(getAllNotes())\r\n  }, [user, isErrorNote, messageNote, dispatch])\r\n\r\n  return (\r\n      <div className=\"App\">\r\n        <Routes>\r\n          <Route path='/register' element={<Register />} />\r\n          <Route path='/login' element={<Login />} />\r\n          <Route path='/' element={<PageSidebar />} >\r\n            <Route \r\n              path=\"notes\" \r\n              element={<><NotesList /><NoteEditor /></>}>\r\n            </Route>\r\n            <Route\r\n              path='note/:noteId'\r\n              element={<NoteEditor />}>\r\n            </Route>\r\n\r\n            <Route \r\n              path='notebooks' \r\n              element={<NotebookList />}>\r\n            </Route>\r\n            <Route\r\n              path='notebook/:notebookId'\r\n              element={<><NotebookNotesList /><NoteEditor /></>}>\r\n            </Route>\r\n            <Route\r\n              path='notebook/trash-notebook'\r\n              element={<><NotebookTrash /><NoteEditor /></>}>\r\n            </Route>\r\n          </Route>\r\n        </Routes>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { configureStore } from '@reduxjs/toolkit'\r\nimport notesReducer from '../features/notes/notesSlice'\r\nimport notebooksReducer from '../features/notebooks/notebooksSlice'\r\nimport authReducer from '../features/auth/authSlice'\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    notes: notesReducer,\r\n    notebooks: notebooksReducer,\r\n    auth: authReducer\r\n  },\r\n});\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { store } from './app/store';\r\nimport { Provider } from 'react-redux';\r\nimport { HashRouter } from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <HashRouter>\r\n        <App />\r\n      </HashRouter>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"note_editor\":\"NoteEditor_note_editor__dj8Mo\",\"note_editor_top\":\"NoteEditor_note_editor_top__7nfAN\",\"note_editor__top_item\":\"NoteEditor_note_editor__top_item__1RmT8\",\"note_editor_top_menu_icon\":\"NoteEditor_note_editor_top_menu_icon__5-mcR\",\"note_editor__notebook_icon\":\"NoteEditor_note_editor__notebook_icon__3bBGK\",\"note_editor__note_title\":\"NoteEditor_note_editor__note_title__1wYLn\",\"note_editor__text_editor\":\"NoteEditor_note_editor__text_editor__2EaDa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Common_link__3Z2sr\",\"btn\":\"Common_btn__nSOkz\",\"btn___main\":\"Common_btn___main__2pfON\",\"btn___success\":\"Common_btn___success__3fPsI\",\"btn___common\":\"Common_btn___common__3Ibx2\",\"actions_menu\":\"Common_actions_menu__GGWhD\",\"actions_menu___right\":\"Common_actions_menu___right__Hbrii\",\"actions_menu__togle_btn\":\"Common_actions_menu__togle_btn__Y28x5\",\"actions_menu__icon\":\"Common_actions_menu__icon__3gkdY\",\"actions_menu__container\":\"Common_actions_menu__container__1sbss\",\"actions_menu__item\":\"Common_actions_menu__item__25O9f\",\"actions_menu__item_inactive\":\"Common_actions_menu__item_inactive__3DHKn\",\"actions_menu_change_notebook_btn\":\"Common_actions_menu_change_notebook_btn__262Wk\",\"main_popup\":\"Common_main_popup__3e6W8\",\"main_popup__container\":\"Common_main_popup__container__2IaEY\",\"main_popup__popup_close\":\"Common_main_popup__popup_close__3WRQ-\",\"main_popup__title\":\"Common_main_popup__title__exIdw\",\"main_popup__input\":\"Common_main_popup__input__itLfP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notes_list\":\"NotesList_notes_list__1uaAg\",\"notes_list__head\":\"NotesList_notes_list__head__1aUk1\",\"notes_list__main_title\":\"NotesList_notes_list__main_title__169V5\",\"notes_list__head_icon\":\"NotesList_notes_list__head_icon__1NXsa\",\"notes_list__notes_container\":\"NotesList_notes_list__notes_container__2EtqB\",\"notes_list__note\":\"NotesList_notes_list__note__2EMX5\",\"notes_list__note_title\":\"NotesList_notes_list__note_title__u0CtN\",\"notes_list__note_text\":\"NotesList_notes_list__note_text__RK-Oa\",\"notes_list__note_date\":\"NotesList_notes_list__note_date__1QYhS\"};"],"sourceRoot":""}